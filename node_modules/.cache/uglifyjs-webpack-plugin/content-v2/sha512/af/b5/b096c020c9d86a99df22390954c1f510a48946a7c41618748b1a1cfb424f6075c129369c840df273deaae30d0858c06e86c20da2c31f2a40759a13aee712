{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-c0e9\"],{NE9g:function(t,e,o){},dS7j:function(t,e,o){\"use strict\";o.r(e);var i=o(\"zF5t\"),r=o(\"cCY5\"),n=o.n(r),s=(o(\"VCwm\"),{components:{Treeselect:n.a},props:{permissions:{type:Array,required:!0},isAdd:{type:Boolean,required:!0},sup_this:{type:Object,default:null}},data:function(){return{loading:!1,dialog:!1,form:{name:\"\",permissions:[],remark:\"\"},permissionIds:[],rules:{name:[{required:!0,message:\"请输入名称\",trigger:\"blur\"}]}}},methods:{cancel:function(){this.resetForm()},doSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.loading=!0,t.form.permissions=[];var o=t;t.permissionIds.forEach(function(t,e){var i={id:t};o.form.permissions.push(i)}),t.isAdd?t.doAdd():t.doEdit()})},doAdd:function(){var t=this;Object(i.a)(this.form).then(function(e){t.resetForm(),t.$notify({title:\"添加成功\",type:\"success\",duration:2500}),t.loading=!1,t.$parent.$parent.init()}).catch(function(e){t.loading=!1,console.log(e.response.data.message)})},doEdit:function(){var t=this;Object(i.c)(this.form).then(function(e){t.resetForm(),t.$notify({title:\"修改成功\",type:\"success\",duration:2500}),t.loading=!1,t.sup_this.init()}).catch(function(e){t.loading=!1,console.log(e.response.data.message)})},resetForm:function(){this.dialog=!1,this.$refs.form.resetFields(),this.permissionIds=[],this.form={name:\"\",permissions:[],remark:\"\"}}}}),a=(o(\"qxXM\"),o(\"KHd+\")),l=Object(a.a)(s,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"el-dialog\",{attrs:{\"append-to-body\":!0,visible:t.dialog,title:t.isAdd?\"新增角色\":\"编辑角色\",width:\"500px\"},on:{\"update:visible\":function(e){t.dialog=e}}},[o(\"el-form\",{ref:\"form\",attrs:{model:t.form,rules:t.rules,size:\"small\",\"label-width\":\"66px\"}},[o(\"el-form-item\",{attrs:{label:\"名称\",prop:\"name\"}},[o(\"el-input\",{staticStyle:{width:\"370px\"},model:{value:t.form.name,callback:function(e){t.$set(t.form,\"name\",e)},expression:\"form.name\"}})],1),t._v(\" \"),o(\"el-form-item\",{attrs:{label:\"权限\"}},[o(\"treeselect\",{staticStyle:{width:\"370px\"},attrs:{multiple:!0,options:t.permissions,placeholder:\"请选择权限\"},model:{value:t.permissionIds,callback:function(e){t.permissionIds=e},expression:\"permissionIds\"}})],1),t._v(\" \"),o(\"el-form-item\",{staticStyle:{\"margin-top\":\"-10px\"},attrs:{label:\"描述\"}},[o(\"el-input\",{staticStyle:{width:\"370px\"},attrs:{rows:\"5\",type:\"textarea\"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,\"remark\",e)},expression:\"form.remark\"}})],1)],1),t._v(\" \"),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{attrs:{type:\"text\"},on:{click:t.cancel}},[t._v(\"取消\")]),t._v(\" \"),o(\"el-button\",{attrs:{loading:t.loading,type:\"primary\"},on:{click:t.doSubmit}},[t._v(\"确认\")])],1)],1)},[],!1,null,\"ad04a016\",null);l.options.__file=\"form.vue\";e.default=l.exports},qxXM:function(t,e,o){\"use strict\";var i=o(\"NE9g\");o.n(i).a},zF5t:function(t,e,o){\"use strict\";o.d(e,\"d\",function(){return r}),o.d(e,\"a\",function(){return n}),o.d(e,\"b\",function(){return s}),o.d(e,\"c\",function(){return a});var i=o(\"t3Un\");function r(){return Object(i.a)({url:\"api/roles/tree\",method:\"get\"})}function n(t){return Object(i.a)({url:\"api/roles\",method:\"post\",data:t})}function s(t){return Object(i.a)({url:\"api/roles/\"+t,method:\"delete\"})}function a(t){return Object(i.a)({url:\"api/roles\",method:\"put\",data:t})}}}]);","extractedComments":[]}